# ============================================================================
# EPS CAMPANHAS - BACKEND - Variáveis de Ambiente
# ============================================================================
#
# INSTRUÇÕES:
# 1. Copie este arquivo para .env
# 2. Preencha os valores conforme seu ambiente
# 3. NUNCA commite o arquivo .env (já está no .gitignore)
#
# ============================================================================

# ----------------------------------------------------------------------------
# DATABASE (PostgreSQL 15+)
# ----------------------------------------------------------------------------
# URL de conexão com banco PostgreSQL
# Formato: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://postgres:senha@localhost:5432/eps_campanhas?schema=public"

# ----------------------------------------------------------------------------
# JWT (Autenticação)
# ----------------------------------------------------------------------------
# Secret para assinar tokens JWT (use string aleatória forte)
# DICA: gere com: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="sua-chave-secreta-super-segura-aqui"

# Tempo de expiração do token JWT
# Exemplos: 1h, 7d, 30d
JWT_EXPIRES_IN="7d"

# ----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# ----------------------------------------------------------------------------
# URL do frontend (para permitir requisições)
# PRODUÇÃO: https://seu-dominio.com
# DESENVOLVIMENTO: http://localhost:3001
CORS_ORIGIN="http://localhost:3001"

# ----------------------------------------------------------------------------
# SERVIDOR
# ----------------------------------------------------------------------------
# Porta onde o backend NestJS vai rodar
# PRODUÇÃO: geralmente 3000 ou variável do host (ex: Railway usa PORT)
PORT=3000

# Ambiente de execução
# Opções: development, production, test
NODE_ENV="development"

# ----------------------------------------------------------------------------
# RATE LIMITING (Segurança)
# ----------------------------------------------------------------------------
# Limite global de requisições por minuto (por IP)
THROTTLE_TTL=60000
THROTTLE_LIMIT=10

# ----------------------------------------------------------------------------
# UPLOAD DE ARQUIVOS (Opcional)
# ----------------------------------------------------------------------------
# Tamanho máximo de arquivo para upload (em bytes)
# 5MB = 5242880
MAX_FILE_SIZE=5242880

# Diretório para armazenar uploads (local)
# NOTA: Em produção, usar S3/Cloud Storage
UPLOAD_DIR="./uploads"

# ----------------------------------------------------------------------------
# EMAIL (Opcional - para notificações)
# ----------------------------------------------------------------------------
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT=587
# SMTP_USER="seu-email@gmail.com"
# SMTP_PASS="sua-senha-ou-app-password"
# SMTP_FROM="noreply@epscampanhas.com"

# ----------------------------------------------------------------------------
# LOGS (Opcional)
# ----------------------------------------------------------------------------
# Nível de log (error, warn, log, debug, verbose)
LOG_LEVEL="log"

# ----------------------------------------------------------------------------
# FRONTEND URL (para links em emails, etc)
# ----------------------------------------------------------------------------
FRONTEND_URL="http://localhost:3001"

# ============================================================================
# NOTAS IMPORTANTES
# ============================================================================
#
# 1. DATABASE_URL:
#    - Use PostgreSQL 15+ para suporte completo a JSON e Window Functions
#    - Certifique-se de criar o banco antes: createdb eps_campanhas
#    - Após configurar, rode: npx prisma migrate dev
#
# 2. JWT_SECRET:
#    - NUNCA use o valor padrão em produção
#    - Gere uma chave forte de 256 bits
#    - Se mudar, todos os usuários precisarão fazer login novamente
#
# 3. CORS_ORIGIN:
#    - Em produção, use o domínio exato do frontend
#    - Não use "*" em produção (inseguro)
#    - Para múltiplas origens, configure no main.ts
#
# 4. NODE_ENV:
#    - "development": Logs detalhados, validações extras
#    - "production": Logs reduzidos, otimizações
#    - "test": Para rodar testes automatizados
#
# 5. UPLOADS:
#    - Em produção, use serviço de cloud (S3, Cloudinary, etc)
#    - Uploads locais não funcionam em ambientes serverless
#
# ============================================================================
